<%- include ../partials/header.ejs %>

<%- include ../partials/main_nav.ejs %>

<!-- content for the edit page -->
<div class="container">
    <div class="row">
        <div class="offset-md-2 col-md-8">

            <h1><%= title %></h1>
<br>
            <form class="form" method="post">

                <div>
                    <label for="titleTextField">Title</label><br>
                    <input type="text"
                        id="titleTextField"
                        name="title" 
                        value = "<%= survey.title %>"
                        required>
                </div><br><br>

<div>
<label for="startDate">Start Date</label><br>
<input id="startDate" type="date" name="startDate" value="<%= survey.startDate %>" max="<%= survey.endDate %>" required>
</div><br>

<div>
<label for="endDate">End Date</label><br>
<input id="endDate" type="date" name="endDate" value="<%= survey.endDate %>" min="<%= survey.startDate %>" required>
</div><br><br>

<% let str = "" %>
<% for (let i = 0; i < survey.questions.length; i++) { %>
<% str += survey.questions[i] + ";" %>
<% } str = str.slice(0, -1) %>

<div id="questions" srv="<%= str %>"></div><br>

<button class="btn btn-outline-secondary" onclick="addQuestion()" type="button">
<i class="fas fa-plus"></i> Add Question
</button>

                <button class="btn btn-primary" type="submit">
                    <i class="fas fa-edit"></i> Submit
                </button>

                <a href="/survey-list" class="btn btn-warning">
                    <i class="fas fa-undo"></i> Cancel
                </a>
            </form>
        </div>

    </div>

</div>

<!--
<- include ../partials/bottom_nav.ejs >

<- include ../partials/footer.ejs >

%s are ommitted
-->

<script src="/scripts/questions.js"></script>